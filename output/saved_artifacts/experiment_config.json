{
  "experiment_config": {
    "random_seed": 42,
    "train_split": 0.6,
    "test_split": 0.2,
    "external_split": 0.2,
    "data_source": "emails_v6.parquet",
    "numeric_features": [
      "sender_domain_entropy",
      "has_attachment",
      "spf_flag_missing",
      "dkim_flag_missing",
      "num_links",
      "subject_length",
      "body_length",
      "keyword_count",
      "num_received_headers",
      "num_exclamation_marks",
      "num_malicious_links"
    ],
    "embedding_model": "all-MiniLM-L6-v2",
    "embedding_dim": 384,
    "tfidf_max_features": 10000,
    "tfidf_ngram_range": [
      1,
      2
    ],
    "tfidf_min_df": 8,
    "tfidf_max_df": 0.9,
    "tfidf_threshold": 0.45,
    "lr_max_iter": 1000,
    "lr_C": 5.537277379395257,
    "lr_class_weight_ratio": 8.5,
    "xgb_max_depth": 7,
    "xgb_n_estimators": 400,
    "xgb_learning_rate": 0.0846751074136459,
    "xgb_min_child_weight": 7,
    "xgb_subsample": 0.9,
    "xgb_colsample_bytree": 0.95,
    "xgb_scale_pos_weight": 7.0,
    "xgb_threshold": 0.45,
    "xgb_early_stopping": 10,
    "mlp_feature_hidden_dim": 128,
    "mlp_dropout": 0.5,
    "mlp_lr": 0.0005957412292147004,
    "mlp_weight_decay": 0.00023686574806450268,
    "mlp_epochs": 50,
    "mlp_batch_size": 128,
    "mlp_pos_weight": 2.0,
    "mlp_threshold": 0.4,
    "mlp_early_stopping": 5
  },
  "optuna_optimized": {
    "objective": " Recall + OC-AUC",
    "description": "Hyperparameters optimized using Optuna for maximum recall and ranking ability"
  },
  "data_splits": {
    "train_size": 101649,
    "test_size": 31766,
    "external_size": 53285
  },
  "model_performance": {
    "tfidf": {
      "test": {
        "accuracy": 0.96688283069949,
        "precision": 0.9320215939764172,
        "recall": 0.9928117433414043,
        "f1": 0.9614567304169415,
        "f2": 0.9800274864808342,
        "roc_auc": 0.9974845037951221
      },
      "external": {
        "accuracy": 0.9154921647743267,
        "precision": 0.9046816107915097,
        "recall": 0.9441051650967809,
        "f1": 0.9239730537405663,
        "f2": 0.9359479538644666,
        "roc_auc": 0.9692792528993888
      }
    },
    "xgboost": {
      "test": {
        "accuracy": 0.975256563621482,
        "precision": 0.9572542672160094,
        "recall": 0.9844884987893463,
        "f1": 0.970680393912265,
        "f2": 0.9789183820873961,
        "roc_auc": 0.9975093531976271
      },
      "external": {
        "accuracy": 0.9339964342685558,
        "precision": 0.9495798319327731,
        "recall": 0.9279232653624538,
        "f1": 0.9386266468894512,
        "f2": 0.9321751909825724,
        "roc_auc": 0.9812300080000868
      }
    },
    "mlp": {
      "test": {
        "accuracy": 0.9817100044072279,
        "precision": 0.9701570290987571,
        "recall": 0.9863801452784504,
        "f1": 0.9782013281806926,
        "f2": 0.9830922610518695,
        "roc_auc": 0.9982351907024404
      },
      "external": {
        "accuracy": 0.9333395890025336,
        "precision": 0.9631734236695443,
        "recall": 0.9123279163647655,
        "f1": 0.9370614501382096,
        "f2": 0.9220629772988806,
        "roc_auc": 0.9814852920359046
      }
    }
  },
  "feature_names": [
    "sender_domain_entropy",
    "has_attachment",
    "spf_flag_missing",
    "dkim_flag_missing",
    "num_links",
    "subject_length",
    "body_length",
    "keyword_count",
    "num_received_headers",
    "num_exclamation_marks",
    "num_malicious_links"
  ],
  "timestamp": "2025-12-05T12:57:05.434787"
}