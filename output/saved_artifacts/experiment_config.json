{
  "experiment_config": {
    "random_seed": 42,
    "train_split": 0.6,
    "test_split": 0.2,
    "external_split": 0.2,
    "data_source": "emails_v4.parquet",
    "phishing_threshold": 0.35,
    "class_weight_ratio": 3.0,
    "numeric_features": [
      "sender_domain_entropy",
      "has_attachment",
      "spf_flag_missing",
      "dkim_flag_missing",
      "num_links",
      "subject_length",
      "body_length",
      "keyword_count",
      "num_received_headers",
      "num_exclamation_marks",
      "num_malicious_links"
    ],
    "embedding_model": "all-MiniLM-L6-v2",
    "embedding_dim": 384,
    "svd_components": 100,
    "tfidf_max_features": 5000,
    "tfidf_ngram_range": [
      1,
      2
    ],
    "tfidf_min_df": 5,
    "tfidf_max_df": 0.8,
    "lr_max_iter": 1000,
    "lr_C": 1.0,
    "xgb_max_depth": 9,
    "xgb_n_estimators": 300,
    "xgb_learning_rate": 0.1,
    "xgb_min_child_weight": 7,
    "xgb_subsample": 0.85,
    "xgb_colsample_bytree": 0.85,
    "xgb_early_stopping": 20,
    "mlp_feature_hidden_dim": 32,
    "mlp_dropout": 0.3,
    "mlp_lr": 0.001,
    "mlp_weight_decay": 0.0001,
    "mlp_epochs": 50,
    "mlp_batch_size": 64,
    "mlp_early_stopping": 10
  },
  "aggressive_settings": {
    "phishing_threshold": 0.35,
    "class_weight_ratio": 3.0,
    "description": "Models trained with aggressive phishing detection - lower threshold and higher penalties for False Negatives"
  },
  "data_splits": {
    "train_size": 119121,
    "test_size": 39707,
    "external_size": 53285
  },
  "model_performance": {
    "tfidf": {
      "test": {
        "accuracy": 0.9554990303976629,
        "precision": 0.9092825833656993,
        "recall": 0.9920096852300242,
        "f1": 0.9488463653996468,
        "roc_auc": 0.9963393792401207
      },
      "external": {
        "accuracy": 0.9125832785962278,
        "precision": 0.8956185147838532,
        "recall": 0.9500051754476763,
        "f1": 0.9220105146837223,
        "roc_auc": 0.9616438937740478
      }
    },
    "xgboost": {
      "test": {
        "accuracy": 0.9782406124864633,
        "precision": 0.963963963963964,
        "recall": 0.9845036319612591,
        "f1": 0.9741255390512698,
        "roc_auc": 0.9979260930004717
      },
      "external": {
        "accuracy": 0.9351224547245942,
        "precision": 0.9576520367183018,
        "recall": 0.921471207259428,
        "f1": 0.939213307309525,
        "roc_auc": 0.9821943253860532
      }
    },
    "mlp": {
      "test": {
        "accuracy": 0.9685445891152693,
        "precision": 0.9365887129052547,
        "recall": 0.9915254237288136,
        "f1": 0.9632744273574642,
        "roc_auc": 0.9978134090541468
      },
      "external": {
        "accuracy": 0.931087548090457,
        "precision": 0.9313541702171172,
        "recall": 0.9427940516854708,
        "f1": 0.9370391961866877,
        "roc_auc": 0.9806969253893874
      }
    }
  },
  "feature_names": [
    "sender_domain_entropy",
    "has_attachment",
    "spf_flag_missing",
    "dkim_flag_missing",
    "num_links",
    "subject_length",
    "body_length",
    "keyword_count",
    "num_received_headers",
    "num_exclamation_marks",
    "num_malicious_links"
  ],
  "timestamp": "2025-11-26T16:51:41.370101"
}